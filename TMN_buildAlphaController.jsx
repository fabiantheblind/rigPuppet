// written by fabiantheblind// http://www.the-moron.netbuildAlphaController();function buildAlphaController(){	// begin an Undo group	app.beginUndoGroup("build Alpha Controller");			// check if a comp is active//	$.writeln("Hello World!");	    var curComp = app.project.activeItem;    if (!curComp || !(curComp instanceof CompItem))    {        alert("Please select a Composition.");        return;    }	// get the selection	var theSelection = curComp.selectedLayers;		// you could use this for a null within the workarea	//var theController = curComp.addNull(curComp.workAreaDuration);		// add a null object to the comp for the slider controls	var theController = curComp.layers.addNull();	// make a unique name for the null	theController.source.name =  "AlphaControl_" + curComp.name.toString();		for(var i = 0; i< theSelection.length; i++){	var theTrackMattedLayer = curComp.layer(theSelection[i].index +1);	theTrackMattedLayer.trackMatteType = TrackMatteType.ALPHA_INVERTED;	var theSliderEffect = theController("ADBE Effect Parade").addProperty("ADBE Checkbox Control"); 	theSliderEffect.name = theSelection[i].source.name+"_Alpha_"+curComp.layer(theSelection[i].index +1).name;	var opacityExpr = "var val;\n"+	"if(thisComp.layer(\""+ theController.name +"\").effect(\""+ theSliderEffect.name +"\")(\"ADBE Checkbox Control-0001\")==true){\n"+	"val = 100;\n"+	"}else{\n"+	"val = 0;\n"+	"}";	theSelection[i].opacity.expression = opacityExpr;	}			app.endUndoGroup();    }